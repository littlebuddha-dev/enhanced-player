# Real-Time Sound Enhancer C++

これは、オーディオファイルに対して高度な音響効果をリアルタイムで適用し、再生するためのC++製サウンドプロセッシングエンジンです。内部では48kHzのサンプリングレートで処理を行い、システムのオーディオデバイスから直接再生します。

## 主な機能

本ツールは、以下の高品質なオーディオプロセッシング機能を提供します。

- **M/S ボーカル・楽器分離:** Mid/Side処理を利用してボーカルと楽器の成分を動的に分離・強調し、ミックス内での明瞭度を向上させます。
- **プレミアム・グロス・エンハンサー:** 音楽的な倍音を付加し、プレゼンス（存在感）とエアー（空気感）を調整することで、サウンドに艶と輝きを与えます。高度なノイズ制御機能も内蔵しています。
- **エンハンスド・ハーモニック・エキサイター:** 高周波数帯域に特化した倍音を生成し、失われた明瞭度やディテールを復元します。
- **6バンド・パラメトリックEQ:** 音楽的なカーブを持つ6バンドのイコライザーで、サウンドのトーンを細かく調整します。
- **マスタリング・リミッター:** 最終段で音圧を最適化し、ピークを抑えつつ全体のレベルを均一化します。
- **リアルタイム再生:** PortAudioライブラリを使用し、処理しながらオーディオを直接再生します。

## 技術的特徴

- **48kHz リアルタイム処理:** すべてのオーディオ処理は48kHzのサンプリングレートで行われ、低遅延でのリアルタイム再生を実現します。
- **ストリーミング処理:** ファイル全体をメモリに読み込むのではなく、バッファ単位でオーディオデータを読み込み、処理、再生する効率的なストリーミング方式を採用しています。
- **JSONによるパラメータ設定:** `params.json`ファイルを通じて、各エフェクトの詳細なパラメータを柔軟にカスタマイズできます。

## ビルド方法

### 依存ライブラリ

ビルドには以下のライブラリが必要です。

- **PortAudio:** クロスプラットフォームのオーディオI/O
- **libsndfile:** 音声ファイルの読み込み
- **nlohmann/json:** 設定ファイルのJSONパース
- **CMake (3.15以上)**
- **C++17対応コンパイラ**
- **pkg-config**

### 手順

1.  **リポジトリをクローン:**
    ```bash
    git clone <repository_url>
    cd <repository_directory>
    ```

2.  **依存関係のインストールとビルド:**
    リポジトリに含まれる`build.sh`スクリプトが、依存関係のインストールとビルドを自動的に行います。

    ```bash
    chmod +x build.sh
    ./build.sh
    ```
    スクリプトは、お使いのOS（Ubuntu/DebianまたはmacOS）を検出し、適切なパッケージマネージャー（`apt-get`または`brew`）を使用して必要なライブラリをインストールします。

    ビルドが完了すると、`build`ディレクトリ内に実行ファイル`realtime_enhancer`が生成されます。

## 使用方法

以下のコマンドでプログラムを実行します。

```bash
./build/realtime_enhancer <入力WAVファイル名>